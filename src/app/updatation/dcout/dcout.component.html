<div class="gWrapper version-09/03/2023">
    <app-header back="true" Titleheader=" DC Out" (BackClick)="backNavigation()"> </app-header>


    <div class="content">
        <div class="example-container">

            <div *ngIf="isOption === 'OPTION'">
                <div class="container ">

                    <div class="gInnerCard">

                        <div class="d-flex justify-content-center TabCardHeaders">
                            <div role="tabpanel">

                                <ul class="nav nav-tabs flex-box-this" id="nav-tabs" role="tablist">
                                    <li role="presentation" class="text-center btn-space "
                                        [ngClass]="{'active':isSelectOption === 'scan' }">
                                        <a class="nav-link " href="#scan" aria-controls="scan" role="tab"
                                            data-bs-toggle="tab" (click)="selectOptions('scan')" matTooltip="Scan Dc"
                                            matTooltipClass="primary-tooltip">
                                            <span> Scan </span>
                                        </a>
                                    </li>

                                    <li role="presentation" class="text-center btn-space "
                                        [ngClass]="{'active':isSelectOption === 'manual'}">
                                        <a href="#manual" class="nav-link " aria-controls="manual" role="tab"
                                            data-bs-toggle="tab" (click)="selectOptions('manual')"
                                            matTooltip="manual Dc " matTooltipClass="primary-tooltip">
                                            <span> Manual </span>
                                        </a>
                                    </li>

                                    <li role="presentation" class="text-center btn-space "
                                        [ngClass]="{'active':isSelectOption === 'view'}">
                                        <a class="nav-link" href="#view" aria-controls="view" role="tab"
                                            data-bs-toggle="tab" (click)="selectOptions('view')" matTooltip="view Dc "
                                            matTooltipClass="primary-tooltip">
                                            <span> View </span>
                                        </a>
                                    </li>

                                    <li role="presentation" class="text-center btn-space "
                                        [ngClass]="{'active':isSelectOption === 'InterChange'}">
                                        <a class="nav-link" href="#interChange" aria-controls="InterChange" role="tab"
                                            data-bs-toggle="tab" (click)="selectOptions('InterChange')"
                                            matTooltip="Branch InterChange" matTooltipClass="primary-tooltip">
                                            <span> InterChange </span>
                                        </a>
                                    </li>
                                </ul>

                            </div>
                        </div>

                        <!-- Tab panes -->
                        <div class="TabInnerContent">
                            <div class="tab-content" id="nav-tabContent">
                                <div role="tabpanel" class="tab-pane fade show " id="scan"
                                    [ngClass]="{'active' : isSelectOption === 'scan'}">


                                    <div class="card option-card gcardContainer mt-3">
                                        <div class=" ">
                                            <div class="row card-title">
                                                <div class="col-3">
                                                    <span class="badge rounded-pill badge-pill  badge-info"
                                                        data-bs-toggle="collapse" href="#step1" role="button"
                                                        aria-expanded="false" aria-controls="collapseExample">
                                                        <i class="fa fa-angle-double-down" aria-hidden="true"></i> Step
                                                        1
                                                    </span>

                                                </div>
                                                <div class="col-9 ">
                                                    <span class="gInputLable"> Use Barcode scanner to start scan the
                                                        barcodes and trays.
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="card option-card gcardContainer mt-3" style="margin-top: 1%;">
                                        <div class=" ">
                                            <div class="row card-title">
                                                <div class="col-3">
                                                    <!-- <span class="badge badge-pill badge-info rounded-pill navbar-toggle collapsed" data-bs-toggle="collapse" data-target="#step2"  href="#step2" role="button" aria-expanded="false" aria-controls="collapseExample">
                                                <i class="fa fa-angle-double-down" aria-hidden="true"></i> Step 2
                                            </span> -->

                                                    <button (click)="collape2 = !collape2"
                                                        class=" btn  badge badge-pill rounded-pill badge-info"
                                                        type="button"> <i class="fa "
                                                            [ngClass]="!collape2 ? 'fa-angle-double-down' : 'fa-angle-double-up'"
                                                            aria-hidden="true"></i> Step 3</button>
                                                </div>
                                                <div class="col-9 ">
                                                    <span class="gInputLable"> Import Barcodes for DC's </span>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="card-body " *ngIf="collape2">
                                            <div class="d-flex row justify-content-center">
                                                <div class="col-3 "></div>
                                                <div class="col-4 ">
                                                    <button class="gSaveButton" (click)="importDcitems()">
                                                        <span>Import </span>
                                                    </button>
                                                </div>
                                                <div class="col-5 "></div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="card option-card gcardContainer mt-3" style="margin-top: 1%;">
                                        <div class="">
                                            <div class="row card-title">
                                                <div class="col-3">
                                                    <!-- <span class="badge badge-pill badge-info rounded-pill" data-bs-toggle="collapse" href="#step3" role="button" aria-expanded="false" aria-controls="collapseExample">
                                                <i class="fa fa-angle-double-down" aria-hidden="true"></i> Step 3
                                            </span> -->

                                                    <button (click)="collape3 = !collape3"
                                                        class=" btn  badge badge-pill rounded-pill badge-info"
                                                        type="button"> <i class="fa "
                                                            [ngClass]="!collape3 ? 'fa-angle-double-down' : 'fa-angle-double-up'"
                                                            aria-hidden="true"></i> Step 3</button>
                                                </div>
                                                <div class="col-9 ">
                                                    <span class="gInputLable">View DCs </span>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="card-body " *ngIf="collape3">
                                            <div class="d-flex row justify-content-center">
                                                <div class="col-3 "></div>
                                                <div class="col-4 ">
                                                    <button class="gSaveButton" (click)="viewUnsavedDcs()">
                                                        <span>View </span>
                                                    </button>
                                                </div>
                                                <div class="col-5 "> </div>
                                            </div>

                                            <div class=" d-flex row justify-content-start" *ngIf="items.length > 0">
                                                <div class="gTableSection">
                                                    <table class=" table gNormalTbale-sm">
                                                        <thead>
                                                            <tr>
                                                                <th> SNO </th>
                                                                <th> Brcode </th>
                                                                <th> Branch</th>
                                                                <th> User</th>
                                                                <th style="text-align: center;"> QrcodeView </th>
                                                                <th style="text-align: center;"> Qty View </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="noBorder"
                                                                *ngFor="let dcs of items; let i = index">
                                                                <td> {{i+1}} </td>
                                                                <td> {{ dcs.brcode }} </td>
                                                                <td> {{ dcs.brname }} </td>
                                                                <td> {{ dcs.UpdUsr }} </td>
                                                                <td>
                                                                    <button class="gHandIcon" mat-icon-button
                                                                        (click)="viewQrcodeWise('QrcodeWise', dcs.brcode, dcs.brname, true)">
                                                                        <i class="fa fa-qrcode" aria-hidden="true"></i>
                                                                    </button>

                                                                </td>
                                                                <td>
                                                                    <button class="gHandIcon" mat-icon-button
                                                                        (click)="viewQrcodeWise('QtyCons', dcs.brcode, dcs.brname, false)">
                                                                        <i class="fa fa-balance-scale"
                                                                            aria-hidden="true"></i>
                                                                    </button>

                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>


                                <div role="tabpanel" class="tab-pane fade show " id="manual"
                                    [ngClass]="{'active' : isSelectOption === 'manual'}">
                                    <div class="gtab2">
                                        <div class="gcardContainer"
                                            [ngClass]="{'manualHide' : isSelectOption === 'manual' && !isKeyVerify,'manualView':isSelectOption === 'manual' && isKeyVerify}">
                                            <!-- <div class="example-form" > -->
                                            <div class="row mt-2 mt-xl-4">
                                                <div class="col-12 col-md-6 col-xl-4">
                                                    <label class="gInputLable" style="top: 2%;"> Dc To </label>
                                                </div>
                                                <div class="col-12 col-md-6 col-xl-8">
                                                    <input type="text" aria-label="Number" matInput
                                                        [formControl]="myControl" [matAutocomplete]="auto"
                                                        id="branchselect" name="branchselect" autofocus
                                                        class="gInnerInput-border">
                                                    <mat-autocomplete #auto="matAutocomplete"
                                                        [displayWith]="displayDCTo" id="matauto" name="matauto"
                                                        class="gAutoCompleteContainer">
                                                        <mat-option *ngFor="let option of branches "
                                                            (onSelectionChange)="selectFocus($event, 'dri')"
                                                            [value]="option" class="gSelectOption">
                                                            {{option.brname}}
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                </div>
                                            </div>
                                 
                                            <div class="row mt-2 mt-xl-4">
                                                <div class="col-12 col-md-6 col-xl-4">
                                                    <label class="gInputLable"> Driver Name </label>
                                                </div>
                                                <div class="col-12 col-md-6 col-xl-8">
                                                    <input type="text" [(ngModel)]="selectDriname"
                                                        class="gInnerInput-border" id="Driver" name="driver"
                                                        (keydown)="selectEvent($event, 'veh')" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="row mt-2 mt-xl-4">
                                                <div class="col-12 col-md-6 col-xl-4">
                                                    <label class="gInputLable">Vehicle No </label>
                                                </div>
                                                <div class="col-12 col-md-6 col-xl-8">

                                                    <input type="text" aria-label="Number" matInput
                                                        [formControl]="vehSearchControl" [matAutocomplete]="auto5"
                                                        id="vehicle" name="vehicle" autofocus
                                                        class="gInnerInput-border">
                                                    <mat-autocomplete #auto5="matAutocomplete"
                                                        [displayWith]="displayVehicle" id="matauto2" name="matauto2"
                                                        class="gAutoCompleteContainer">
                                                        <mat-option *ngFor="let option of vehList "
                                                            (onSelectionChange)="selectVeh($event,option.vehicleno, 'next')"
                                                            [value]="option" class="gSelectOption">
                                                            {{option.vehicleno}}
                                                        </mat-option>
                                                    </mat-autocomplete>

                                                </div>
                                            </div>
                                            <div class="d-flex flex- text-center my-3 mt-xl-4  justify-content-center">
                                                <button id="next" style="vertical-align:middle;" class="gSaveButton"
                                                    (click)="selectNext()">Next
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- </div> -->
                                </div>

                                <div role="tabpanel" class="tab-pane fade show " id="view"
                                    [ngClass]="{'active' : isSelectOption === 'view'}">
                                    <div class="gtab3  viewTab1">
                                        <div class="gcardContainer gcardContainerView p-3">
                                            <div class="row mt-2 ">
                                                <div class="col-12 col-md-6 col-xl-4">
                                                    <label class="gInputLable" style="top: 2%;"> From Date </label>
                                                </div>
                                                <div class="col-12 col-md-6 col-xl-8 ">
                                                    <div class="gOuterInput">

                                                        <input matInput [matDatepicker]="picker1"
                                                            [(ngModel)]="trnFrdate" required class="gInnerInput"
                                                            (change)="datechange('toDate')" (keydown)="focusNext($event, 'toDate') ">
                                                        <mat-datepicker-toggle matSuffix [for]="picker1"
                                                            class="gInputButton">

                                                            <mat-icon
                                                                matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                                                        </mat-datepicker-toggle>
                                                        <mat-datepicker #picker1></mat-datepicker>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row mt-2 mt-xl-4">
                                                <div class="col-12 col-md-6 col-xl-4">
                                                    <label class="gInputLable" style="top: 2%;"> To Date </label>
                                                </div>
                                                <div class="col-12 col-md-6 col-xl-8 ">
                                                    <div class="gOuterInput">
                                                        <input matInput [matDatepicker]="picker2" id="toDate"
                                                            [(ngModel)]="trntodate" (change)="datechange('viewNExt')"
                                                            required class="gInnerInput" (keydown)="focusNext($event, 'viewNExt') ">
                                                        <mat-datepicker-toggle matSuffix [for]="picker2"
                                                            class="gInputButton">
                                                            <mat-icon
                                                                matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                                                        </mat-datepicker-toggle>
                                                        <mat-datepicker #picker2></mat-datepicker>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-flex text-center my-3 mt-xl-4  justify-content-center">
                                                <button id="viewNExt" style="vertical-align:middle" class="gSaveButton"
                                                    (click)="SelectView()">View</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div role="tabpanel" class="tab-pane fade show " id="InterChange"
                                    [ngClass]="{'active' : isSelectOption === 'InterChange'}">
                                    <div class="gtab4 ">
                                        <div class="gcardContainer"
                                            [ngClass]="{'manualHide' : isSelectOption === 'InterChange' && !isKeyVerify,'manualView':isSelectOption === 'InterChange' && isKeyVerify}">
                                            <div class="row mt-2 mt-xl-4">
                                                <div class="col-12 col-md-6 col-xl-4">
                                                    <label class="gInputLable" style="top: 2%;"> Dc Number </label>
                                                </div>
                                                <div class="col-12 col-md-6 col-xl-8 ">
                                                    <div class="gOuterInput">
                                                        <input type="text" class="gInnerInput" [(ngModel)]="selDcnum"
                                                            id="dcnum" name="dcnum"
                                                            (keydown)="InterChange($event, 'dcNumCheck')"
                                                            (keypress)="changeValue($event)">
                                                        <button (click)="getDcnumForDetails()" mat-button
                                                            id="dcNumCheck"
                                                            class="gInputButton"><mat-icon>fast_forward</mat-icon></button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row mt-2 mt-xl-4">
                                                <div class="col-12 col-md-6 col-xl-4">
                                                    <label class="gInputLable" style="top: 2%;"> Branch </label>
                                                </div>
                                                <div class="col-12 col-md-6 col-xl-8">
                                                    <input type="text" aria-label="Number" class="gInnerInput-border"
                                                        [formControl]="myControl" [matAutocomplete]="auto2"
                                                        id="branchselect2" name="branchselect2" autofocus>
                                                    <!-- <mat-autocomplete #auto2="matAutocomplete"
                                                        (optionSelected)="selectFocus($event.option.value, 'dri')"
                                                        id="matauto2" name="matauto2" class="gAutoCompleteContainer">
                                                        <mat-option *ngFor="let option of branches "
                                                            [value]="option.brname" class="gSelectOption">
                                                            {{option.brname}}
                                                        </mat-option>
                                                    </mat-autocomplete> -->

                                                    <mat-autocomplete #auto2="matAutocomplete"
                                                    [displayWith]="displayDCTo" id="matauto2" name="matauto2"
                                                    class="gAutoCompleteContainer">
                                                    <mat-option *ngFor="let option of branches "
                                                        (onSelectionChange)="selectFocus($event, 'dri')"
                                                        [value]="option" class="gSelectOption">
                                                        {{option.brname}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                                </div>
                                            </div>

                                            <div class="row mt-2 mt-xl-4">
                                                <div class="col-12 col-md-6 col-xl-4">
                                                    <label class="gInputLable">Vehicle No </label>
                                                </div>
                                                <div class="col-12 col-md-6 col-xl-8">
                                                    <input type="text" aria-label="Number" class="gInnerInput-border"
                                                        [formControl]="vehSearchControl" [matAutocomplete]="auto6"
                                                        id="vehicle1" name="vehicle" autofocus>
                                                    <!-- <mat-autocomplete #auto6="matAutocomplete"
                                                        (optionSelected)="selectVeh1($event.option.value, 'btn_incge')"
                                                        id="matauto2" name="matauto2" class="gAutoCompleteContainer">
                                                        <mat-option *ngFor="let option of vehList "
                                                            [value]="option.vehicleno" class="gSelectOption">
                                                            {{option.vehicleno}}
                                                        </mat-option>
                                                    </mat-autocomplete> -->

                                                    <mat-autocomplete #auto6="matAutocomplete"
                                                    [displayWith]="displayVehicle" id="matauto2" name="matauto2"
                                                    class="gAutoCompleteContainer">
                                                    <mat-option *ngFor="let option of vehList "
                                                        (onSelectionChange)="selectVeh($event,option.vehicleno, 'btn_incge')"
                                                        [value]="option" class="gSelectOption">
                                                        {{option.vehicleno}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                                </div>
                                            </div>

                                            <div class="row mt-2 mt-xl-4 text-center justify-content-center mb-3">


                                                <button id="btn_incge" style="vertical-align:middle" class="gSaveButton"
                                                    (click)="interChangeBranch()">Change</button>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div id="viewList" *ngIf="isOption==='SCANITEMS'">
                <div class="d-flex row justify-content-between" style="margin-left: 1px;margin-right: 1px;">
                    <div class="col-6 ">
                        <div class="d-flex justify-content-between">
                            <div class="p-0 " style="color: #806359;font-size: 14px;"> Branch: </div>
                            <div class="p-0 " style="color: #01579B;font-size: 14px;"> {{branch}} </div>
                            <div class="p-0 "></div>
                        </div>
                    </div>
                    <div class="col-6 "></div>
                </div>

                <div class="gTableSection">
                    <table class="table gNormalTable-sm">
                        <thead>
                            <tr>
                                <th>SNO</th>
                                <th>Icode</th>
                                <th *ngIf="qrType">Qrcode</th>
                                <th>Particulars</th>
                                <th>QTY</th>
                                <th>Uom</th>
                                <th>Tray</th>
                                <th>TUom</th>
                                <th style="text-align: center;">Option</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="noBorder" *ngFor="let items of individuals.data; let i = index">
                                <td>{{i+1}}</td>
                                <td>{{items.icode}}</td>
                                <td *ngIf="qrType">{{items.Qrcode}}</td>
                                <td>{{items.iname}}</td>
                                <td>{{items.qty}} </td>
                                <td>{{items.Uom}}</td>
                                <td>{{items.TryCnt}}</td>
                                <td>{{items.TryUom}}</td>
                                <td style="text-align: center;">
                                    <button class="gDeleteIcon" mat-icon-button (click)="qrcodeRemove(items.Qrcode)">
                                        <i class="material-icons">delete </i>
                                    </button>

                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="d-flex row justify-content-between">
                    <div class="col-3 col-lg-6 ">
                        <label class="gInputLable"> Driver Name </label>
                    </div>
                    <div class="col-9 col-lg-6 ">
                        <input type="text" [(ngModel)]="selectDriname" class="gInnerInput-border" id="scanDriver"
                            name="scandriver" autocomplete="off" (keydown)="selectscanDri($event)">
                    </div>
                </div>

                <!---------------- Vehicle number search  ----------------->

                <div class="d-flex row justify-content-between" style="margin-top: 1%;">
                    <div class="col-3 col-lg-6 ">
                        <label class="gInputLable">Description</label>
                    </div>
                    <div class="col-9 col-lg-6 ">
                        <input type="text" [(ngModel)]="description" class="gInnerInput-border" id="descrip"
                            name="descrip">
                    </div>
                </div>

                <div class="d-flex  justify-content-end">
                    <div class="col-3 col-lg-6 ">
                        <label class="gInputLable">Vehicle No </label>
                    </div>
                    <div class="col-9 col-lg-6 ">
                        <input type="text" [(ngModel)]="selectVehicle" class="gInnerInput-border" id="scanvehicle"
                            name="scanvehicle" (keydown)="selectscanVeh($event)">
                    </div>
                </div>



                <div class="d-flex justify-content-end">
                    <button mat-button class="gSaveButton" id="scanSave" (click)="scanSave()">Save</button>
                </div>
            </div>



            <div id="viewList" *ngIf="isOption==='VIEWLIST'">
                <div class="gTableSection">



                    <div class="gTableActionheaders justify-content-between" style="height: auto !important;">

                        
                        <div class="d-flex" style="flex-direction: row;">
                            <span class="gInputLable">From Date&nbsp;:&nbsp; {{trnFrdate | date : 'dd-MMM-YYYY'}}</span>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <span class="gInputLable">To Date&nbsp;:&nbsp;{{trntodate| date: 'dd-MMM-YYYY'}}</span>

                            </div>

                        <div class="d-flex" style="flex-direction: row;">

                        <form role="search" class="search-form ml-3">
                            <input type="search" name="Search" id="search" class="gSearchText1" autocomplete="off"
                                (ngModelChange)="applyFilter($event, 'one')" [(ngModel)]="searchTempOne">
                        </form>
                        <img Cores px-0 class="png-icon gXlButton curser " src=".\assets\gImg\excel1.png" type="submit"
                            (click)="downloadXlOne(individuals)">
                        </div>
                    </div>
                    <div class="gInnerTable" style="max-height: calc(100vh - 80px);">
                        <table class="gNormalTable-sm table " #table mat-table [dataSource]="individuals" matSort>
                            <ng-container *ngFor="let col of displayedColumns" [matColumnDef]="col">
                                <div class="position-relative">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef [className]="col"
                                        [ngStyle]="{ 'width' : col !=='DestiBrname' ?  '15px' : 'auto' }">
                                        <ng-container>
                                            <span *ngIf="col ==='SNo'" style="max-width: 40px !important;">S.No</span>
                                            <span *ngIf="col =='DestiBrname'">Destination</span>
                                            <span *ngIf="col =='todaydate'">Dc Date</span>
                                            <span *ngIf="col =='TrnTime'">Dc Time</span>
                                            <span *ngIf="col =='TrnNo'">Trn No</span>
                                            <span *ngIf="col =='Option'">Delete</span>
                                            <span *ngIf="col =='View'">View</span>

                                        </ng-container>

                                    </th>

                                </div>

                                <td mat-cell *matCellDef="let row; let i = index" [className]="col"
                                    [ngClass]="{'text-end': col ==='TrnNo' || col ==='TrnTime'}">

                                    <span *ngIf="col ==='SNo'" style="max-width: 40px !important;">{{i+1}}</span>
                                    <span *ngIf="col !== 'todaydate'">{{row[col]}}</span>
                                    <span *ngIf="col ==='todaydate'">{{row[col] | date: 'dd/MM/yyyy'}}</span>
                                    <span *ngIf="col ==='Option'" style="min-width: 80px;">
                                        <button mat-icon-button class="gDeleteIcon" (click)="openDialog(row.TrnNo, i);rowClick(i)">
                                            <mat-icon>delete</mat-icon>
                                        </button>
                                    </span>
                                    <span *ngIf="col ==='View'" style="min-width: 80px;">
                                        <button class="gHandIcon" type="button" mat-icon-button
                                            (click)="viewById(row.TrnNo, row.todaydate);rowClick(i)">
                                            <mat-icon>print</mat-icon> </button>
                                    </span>

                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

                            <tr mat-row *matRowDef="let row; columns: displayedColumns;let i = index" [ngClass]="classArrTable[i] ? 'rowClick' : 'rowUnClick'" (click)="rowClick(i)" (keyup)="keyTab1($event, i)"></tr>

                            <tr class="mat-row" *matNoDataRow>

                                <td class="mat-cell text-center" [attr.colspan]="displayedColumns.length+1">
                                    No records found.
                                </td>

                            </tr>
                        </table>

                    </div>



                    <!-- <table class="table gNormalTable-sm">
                        <thead>
                            <tr>
                                <th>SNO</th>
                                <th>Destination</th>
                                <th>Dc Date</th>
                                <th>Dc Time</th>
                                <th>Dc No</th>
                                <td>Option</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let items of individuals; let i = index">
                                <td (click)="viewById(items.TrnNo, items.todaydate)">{{i+1}}</td>
                                <td (click)="viewById(items.TrnNo, items.todaydate)">{{items.DestiBrname}}</td>
                                <td (click)="viewById(items.TrnNo, items.todaydate)">{{items.todaydate | date: 'dd/MM/yyyy'}}
                                </td>
                                <td (click)="viewById(items.TrnNo, items.todaydate)">{{items.TrnTime }}</td>
                                <td (click)="viewById(items.TrnNo, items.todaydate)">{{items.TrnNo}}</td>
                                <td>
                                    <button mat-icon-button (click)="openDialog(items.TrnNo, i)" class="gDeleteIcon">
                                        <i class="material-icons">delete
                                        </i>
                                    </button>

                                </td>
                            </tr>
                        </tbody>
                    </table> -->
                </div>
            </div>


            <div *ngIf="isOption === 'ITEMLIST'" style="width: 100%;color: #1C5A85;">
                <div class="gcardContainer mt-2">
                    <div class="d-flex justify-content-start">
                        <button class="gIconButton" mat-button (click)="itemShow()"><i class="fa fa-plus"></i></button>
                        <span class="gInputLable"> &nbsp; Items Selection</span>
                        <span class="example-spacer"></span>
                        <span class="gInputLable bold"> <b> &nbsp; Dc To :&nbsp;
                                {{myControl.value.brname}}&nbsp;&nbsp;&nbsp;Driver Name: {{selectDriname}}&nbsp;
                                &nbsp;Vehicle
                                No:&nbsp;{{vehSearchControl.value.vehicleno}}</b></span>
                        <span class="example-spacer"></span>
                        <button class="gHandIcon" *ngIf="isSelectOption === 'manual' && isOption === 'ITEMLIST'"
                            mat-icon-button data-bs-toggle="modal" data-bs-target="#filterModal">
                            <span class="material-icons">more_vert</span>
                        </button>
                    </div>
                    <!----------Item selection Start---------------->
                    <div class="container p-0 mb-0 " *ngIf="isItems" id="ordertype" style="margin-top: 2px;">

                        <div class="d-flex justify-content-center" *ngIf="!isSearch">
                            <div class="p-0  col-12 col-md-5 col-xl-3">
                                <label class="gInputLable">Item Name</label>
                            </div>

                            <div class="p-0  col-12 col-md-7 col-xl-9">
                                <div class="row">
                                    <div class="col-8">
                                        <input type="text" id="searchitem" aria-label="Number" matInput
                                            [formControl]="searchItem" [matAutocomplete]="auto1"
                                            class="gInnerInput-border">
                                        <mat-autocomplete #auto1="matAutocomplete" class="gAutoCompleteContainer">
                                            <mat-option *ngFor="let item of items" [value]="item?.iname"
                                                class="gSelectOption"
                                                (onSelectionChange)='getSelectedIcode($event, item)'>{{ item?.iname }}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-center">
                            <div class="p-0  col-12 col-md-5 col-xl-3">
                                <label class="gInputLable">Item Code</label>
                            </div>
                            <div class="p-0  p-0 col-12 col-md-7 col-xl-9">
                                <div class="row">
                                    <div class=" col-5">
                                        <input type="number" class="gInnerInput-border " id="icode" name="code" (focusout)="getItemDetails('onlyitem')"
                                            [(ngModel)]="itemDetail.icode" (keydown)="getItemByCode($event)" autofocus>
                                    </div>
                                    <div class=" col-3">
                                        <button id="itemDetail" class="gSaveButton "
                                            (click)="getItemDetails('onlyitem')">
                                            <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                    <div class=" col-2">
                                        <button id="itemsrch" class="gSaveButton " (click)="openSearch()">
                                            <i class="fa fa-search" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-center">
                            <div class="p-0  col-12 col-md-5 col-xl-3">
                                <label class="gInputLable">Item Name</label>
                            </div>
                            <div class="p-0  col-12 col-md-7 col-xl-9">
                                <div class="row">
                                    <div class="col-8">
                                        <input type="text" class="gInnerInput-border " id="iname" name="iname"
                                            [(ngModel)]="itemDetail.iname" readonly>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="d-flex justify-content-center">
                            <div class="p-0  col-12 col-md-5 col-xl-3">
                                <label class="gInputLable">Item Qty</label>
                            </div>
                            <div class="p-0  col-12 col-md-7 col-xl-9">
                                <div class="row">
                                    <div class=" col-5">
                                        <input  maxlength="7" inputmode="numeric" pattern="[0-9]" class="gInnerInput-border"
                                        [(ngModel)]="qty" id="qty" #qtySel  (dragleave)="onDragStart($event)"
                                        (keypress)="restrictNumericwithdot($event,itemDetail.mment)"
                                        (keydown)="getItemCheck($event)" autocomplete="off">
                                        <!-- <input type="text" class="gInnerInput-border " id="qty" name="qty"
                                            [(ngModel)]="qty" (keydown)="getItemCheck($event)" onkeypress="return event.charCode >= 48 && event.charCode <= 57" 
                                            (keypress)="changeValue($event)"> -->
                                    </div>
                                    <div class=" col-3">
                                        <input type="text" class="gInnerInput-border " id="uom" name="uom"
                                            [(ngModel)]="itemDetail.mment" placeholder="Uom" readonly>
                                    </div>
                                    <div class=" col-2">
                                        <button id="itemCheck" class="gSaveButton "
                                            (click)="checkItems('OnlyItemCheck')">
                                            <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                                        </button>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-center">
                            <div class="p-0  col-12 col-md-5 col-xl-3">
                                <label class="gInputLable">Tray</label>
                            </div>
                            <div class="p-0  col-12 col-md-7 col-xl-9">
                                <div class="row">
                                    <div class=" col-5">
                                        <input type="text" class="gInnerInput-border " id="tray" name="tray"
                                            [(ngModel)]="tray" (keypress)="changeTrayValue($event)" autocomplete="off"
                                            (keyup)="selectTrayEvent($event, 'tuom')"  onkeypress="return event.charCode >= 48 && event.charCode <= 57" >
                                    </div>
                                    <div class=" col-3">
                                        <mat-select class="gInnerInput-border " id="tuom" name="tuom"
                                            [(ngModel)]="tment">
                                            <mat-option value="Tray" class="gSelectOption" selected
                                                (onSelectionChange)="selectTrayEvent1($event, 'addBtn')">Tray</mat-option>
                                            <mat-option value="Tin" class="gSelectOption"
                                                (onSelectionChange)="selectTrayEvent1($event, 'addBtn')">Tin</mat-option>
                                            <mat-option value="Tub" class="gSelectOption"
                                                (onSelectionChange)="selectTrayEvent1($event, 'addBtn')">Tub</mat-option>
                                            <mat-option value="Boxes" class="gSelectOption"
                                                (onSelectionChange)="selectTrayEvent1($event, 'addBtn')">Boxes</mat-option>
                                        </mat-select>
                                    </div>
                                    <div class=" col-2">
                                        <button id="addBtn" class="gSaveButton " (click)="checkItems('CheckAndUpdate')">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!---------------------------Item selection Start---------------------------------->
                </div>


                <div class="gTableSection mt-2" id="table_list">
                    <div class="gTableActionheaders">
                        <form role="search" class="search-form ml-3">
                            <input type="search" name="Search" [ngClass]="{'gSearchText': searchTemp === '', 'gSearchText1':searchTemp!=='' }" #input autocomplete="off" [(ngModel)]="searchTemp">
                        </form>
                        <button mat-button class="gNormalButton" (click)="Allclear()">Clear</button>
                        <button mat-button class="gSaveButton" (click)="getSaveValues()">Save</button>
      
                    </div>
                    <div class="gInnerTable1 gInnerTable">
                        <table class="gNormalTable-md table" id="itemTable"  #itemTable>
                            <thead>
                                <tr>
                                    <th>S.No</th>
                                    <th sortable="icode">Icode <i class="fa" (click)="sorts('icode')" [ngClass]="{'fa-sort': column != 'icode', 'fa-sort-asc': (column == 'icode' && isDesc),
                                        'fa-sort-desc': (column == 'icode' && !isDesc) }"></i></th>
                                    <th sortable="iname">Particulars <i class="fa" (click)="sorts('iname')" [ngClass]="{'fa-sort': column != 'iname', 'fa-sort-asc': (column == 'iname' && isDesc),
                                        'fa-sort-desc': (column == 'iname' && !isDesc) }"></i></th>
                                    <th sortable="iqty">QTY <i class="fa" (click)="sorts('iqty')" [ngClass]="{'fa-sort': column != 'iqty', 'fa-sort-asc': (column == 'iqty' && isDesc),
                                        'fa-sort-desc': (column == 'iqty' && !isDesc) }"></i></th>
                                    <th sortable="mment">Uom <i class="fa" (click)="sorts('mment')" [ngClass]="{'fa-sort': column != 'mment', 'fa-sort-asc': (column == 'mment' && isDesc),
                                        'fa-sort-desc': (column == 'mment' && !isDesc) }"></i></th>
                                    <th sortable="tray">Tray <i class="fa" (click)="sorts('tray')" [ngClass]="{'fa-sort': column != 'tray', 'fa-sort-asc': (column == 'tray' && isDesc),
                                        'fa-sort-desc': (column == 'tray' && !isDesc) }"></i></th>
                                    <th sortable="tmment">TUom <i class="fa" (click)="sorts('tmment')" [ngClass]="{'fa-sort': column != 'tmment', 'fa-sort-asc': (column == 'tmment' && isDesc),
                                        'fa-sort-desc': (column == 'tmment' && !isDesc) }"></i></th>
                                    <th sortable="dcrate" style="text-align: right">Rate <i class="fa"
                                            (click)="sorts('dcrate')" [ngClass]="{'fa-sort': column != 'dcrate', 'fa-sort-asc': (column == 'dcrate' && isDesc),
                                        'fa-sort-desc': (column == 'dcrate' && !isDesc) }"></i></th>
                                    <th sortable="nagstme" style="text-align: right">GST% <i class="fa"
                                            (click)="sorts('gst')" [ngClass]="{'fa-sort': column != 'gst', 'fa-sort-asc': (column == 'gst' && isDesc),
                                        'fa-sort-desc': (column == 'gst' && !isDesc) }"></i></th>
                                    <th sortable="cess" style="text-align: right">Cess% <i class="fa"
                                            (click)="sorts('cess')" [ngClass]="{'fa-sort': column != 'cess', 'fa-sort-asc': (column == 'cess' && isDesc),
                                        'fa-sort-desc': (column == 'cess' && !isDesc) }"></i></th>
                                    <th style="text-align: center;">Option</th>
                                    <th sortable="value" style="text-align: right">Amount <i class="fa"
                                            (click)="sorts('value')" [ngClass]="{'fa-sort': column != 'value', 'fa-sort-asc': (column == 'value' && isDesc),
                                        'fa-sort-desc': (column == 'value' && !isDesc) }"></i></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let items of individuals.data | orderby: {property: column, direction: direction} | filter:searchTemp;  index as i">
                                    <td>{{i+1}}</td>
                                    <td>{{items.icode}}</td>
                                    <td>{{items.iname}}</td>


                                    <td style="max-width: 100px; min-width: 100px;width: 100px;" >
                                        <span style="max-width: 100px; min-width: 100px;" class="d-block"  (mouseenter)="hide = !hide" (mouseleave)="hide = !hide" *ngIf="!hide">{{items.iqty}}</span>
                                        <input  *ngIf="hide"  maxlength="7" inputmode="numeric" pattern="[0-9]" class="gInnerInput m-0"
                                        id="{{items.icode}}" min="1" #qtySel  (dragleave)="onDragStart($event)" (focusout)="editqty(i, $event, items.iqty, items.icode)" 
                                        (keypress)="restrictNumericwithdot($event,items.mment)" [value]="items.iqty ?? 1" autocomplete="off">



                                    </td>
       
                                    <td>{{items.mment}}</td>

                                    <td style="max-width: 100px; min-width: 100px;width: 100px;">
                                        <span style="max-width: 100px; min-width: 100px;" class="d-block"  (mouseenter)="hidetray = !hidetray" (mouseleave)="hidetray = !hidetray" *ngIf="!hidetray">{{items.tray}}</span>
                                        <input  *ngIf="hidetray" type="number" class="gInnerInput m-0" style="max-width: 100px; min-width: 100px;"
                                            (focusout)="editTray(i, $event, items.iqty)" autocomplete="off" onkeypress="return event.charCode >= 48 && event.charCode <= 57" id="trayedit" min="1"
                                            [value]="items.tray">


                                    </td>
                                    <td>{{items.tmment}}</td>
                                    <td style="text-align: right">{{items.dcrate |currency:'INR'}}</td>
                                    <td style="text-align: right">{{items.gst}}%</td>
                                    <td style="text-align: right">{{items.cess}}</td>

                                    <td style="text-align: center;">
                                        <button mat-icon-button (click)="itemRemove(i)" class="gDeleteIcon">
                                            <mat-icon>delete</mat-icon>
                                        </button>

                                    </td>
                                    <td style="text-align: right">{{items.value |currency:'INR'}}</td>
                                </tr>

                                <tr class="" *ngIf="individuals.data.length === 0">
                                    <td [colSpan]="12" class="text-center bold">No Record Found</td>

                                </tr>
                                <tr class="gToggleFooter" *ngIf="individuals.data.length > 0">
                                    <td [colSpan]="11" class="text-end bold">Total Amount</td>
                                    <td [colSpan]="1" class="text-end bold">
                                        {{subtotal |currency:'INR'}}

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row bottom">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                        <label class="gInputLable">Note: <span class="gInputLable">Exit - Alt + X, Clear - Alt + C, Save
                                - Alt + S</span></label>
                    </div>
                </div>

            </div>

            <!-- Print_Section #printDC-->
            <div id="printDC" [hidden]="isPrint">
                <div class="d-flex justify-content-center">
                    <img src=".\assets\gImg\a2b2.png" class="pntLogo">
                </div>
                <div class="d-flex justify-content-between pntAddr">
                    <div class="p-0 " style="margin-left: 2%;">
                        <div class="row"> </div>
                        <div class="row">{{dcoutItems?.MyCompanyName}}</div>
                        <div class="row">{{dcoutItems?.MyAdd1}}{{dcoutItems?.MyAdd2}}</div>
                        <div class="row">{{dcoutItems?.Mycity}}-{{dcoutItems?.Mypin}}</div>
                        <div class="row">{{dcoutItems?.myStates}}</div>
                        <div class="row">Ph:{{dcoutItems?.Myphone}}</div>
                        <div class="row">Gst:{{dcoutItems?.MyGstNo}}</div>
                    </div>
                    <div class="p-0 "></div>
                    <div class="p-0 " style="text-align: left;margin-right: 2%;">
                        <div class="row">To </div>
                        <div class="row">{{dcoutItems?.DcmpName}} </div>
                        <div class="row">{{dcoutItems?.Dadd1}}{{dcoutItems?.Dadd2}}</div>
                        <div class="row">{{dcoutItems?.Dcity}}-{{dcoutItems?.Dpincode}}</div>
                        <div class="row">Ph: {{dcoutItems?.Dphone}}</div>
                        <div class="row">Gst:{{dcoutItems?.DGstNo}} </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center pntHead">
                    GOOD TRANSFER NOTE
                </div>
                <div class="d-flex justify-content-center pntsubhead">
                </div>
                <div class="d-flex mb-3 pntdate">
                    <div class="me-auto p-0 ">GTN:{{dcoutItems?.TrnNo}} </div>
                    <div class="p-0 ">Date: {{dcoutItems?.todaydate }}</div>
                    <div class="p-0 ">Time: {{dcoutItems?.TrnTime }}</div>
                </div>
                <div class="d-flex pntdc" *ngIf="dcoutItems?.Descript!==null && dcoutItems?.Descript !==''">Description:
                    {{dcoutItems?.Descript }}</div>

                <div class="table-responsive" id="table_list">
                    <table style="table-layout: auto" class="table table-sm print-table">
                        <thead>
                            <tr>
                                <th>SNO</th>
                                <th>Icode</th>
                                <th>Particulars</th>
                                <th style="text-align: right">QTY</th>
                                <th>Uom</th>
                                <th style="text-align: right">Tray</th>
                                <th>TUom</th>
                                <th style="text-align: right">Rate</th>
                                <th style="text-align: right">Amount</th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let items of printList">
                            <tr class="noBorder catname">
                                <td>{{items.subcat}}</td>
                            </tr>
                            <tr *ngFor="let list of items.result" class="noBorder">
                                <td>{{list.sno}}</td>
                                <td>{{list.icode}}</td>
                                <td>{{list.iname}}</td>
                                <td style="text-align: right">{{list.qty}}</td>
                                <td>{{list.uom}}</td>
                                <td style="text-align: right">{{list.TrayCnt}}</td>
                                <td>{{list.TrayUom}}</td>
                                <td style="text-align: right">{{list.irate |currency:'INR'}}</td>
                                <td style="text-align: right">{{list.qty*list.irate |currency:'INR'}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td>Driver: </td>
                                <td>{{dcoutItems?.DriverName}}</td>
                                <td style="text-align: right">Vehicle: </td>
                                <td>{{dcoutItems?.VehicleNo}}</td>
                                <td></td>
                                <td style="text-align: right;border-bottom:2px dashed black;" class="catname">Grand</td>
                                <td style="border-bottom:2px dashed black;" class="catname">Total</td>
                                <td style="border-bottom:2px dashed black;" class="catname"></td>
                                <td style="text-align: right;border-bottom:2px dashed black;" class="catname">
                                    {{prntTotal |currency:'INR'}}</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <div class="d-flex justify-content-start pntUsr">
                    <div class="p-0 ">{{dcoutItems?.Usr}}</div>
                </div>
                <div class="d-flex justify-content-between pntdc" style="font-size: 18px">
                    <div class="p-0 ">Prepared By</div>
                    <div class="p-0 ">Checked By</div>
                    <div class="p-0 ">Passed By</div>
                    <div class="p-0 ">Receivers Sign and Seal</div>
                </div>
                <hr>
            </div>

            <!-- #ewayform -->
            <div id="ewayform" [hidden]="isPrint">
                <div class="d-flex justify-content-center ewayHead">
                    E-WAY FORM REPORT
                </div><br>
                <div class="d-flex justify-content-start ewaydate">
                    BRANCH NAME: {{dcoutItems?.BranchName}}
                </div>
                <div class="d-flex justify-content-start ewaydate">
                    DC DATE: {{dcoutItems?.todaydate}}&nbsp;&nbsp;DC NO: {{dcoutItems?.TrnNo}}
                </div><br>
                <div class="d-flex pntdc" *ngIf="dcoutItems?.Descript!==null && dcoutItems?.Descript !==''">Description:
                    {{dcoutItems?.Descript }}</div>


                <div class="table-responsive" id="table_list">
                    <table style="table-layout: auto" class="table table-borderless eway-table">
                        <thead>
                            <tr>
                                <th>CATEGORY</th>
                                <th>HSN CODE</th>
                                <th>UOM</th>
                                <th style="text-align: right">TOTAL QTY</th>
                                <th style="text-align: right">TOTAL VALUE</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let items of ewayList" class="noBorder">
                                <td>{{items.Maincat}}</td>
                                <td>{{items.HsnCode}}</td>
                                <td>{{items.uom}}</td>
                                <td style="text-align: right">{{items.qty}}</td>
                                <td style="text-align: right">{{items.ivalue |currency:'INR'}}</td>
                            </tr>
                            <tr class="noBorder"></tr>
                            <tr class="noBorder">
                                <td style=" border-top:1px solid rgb(107, 106, 106);"></td>
                                <td style=" border-top:1px solid rgb(107, 106, 106);"></td>
                                <td style=" border-top:1px solid rgb(107, 106, 106);"></td>
                                <td
                                    style="text-align: right; border-top:1px solid rgb(107, 106, 106); border-bottom: 1px solid rgb(107, 106, 106);">
                                    Total</td>
                                <td
                                    style="text-align: right; border-top:1px solid rgb(107, 106, 106); border-bottom: 1px solid rgb(107, 106, 106);">
                                    {{prntTotal |currency:'INR'}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


            <div id="View_Section" *ngIf="isOption==='SINGLEVIEW'|| isOption==='SAVEVIEW'">
                <div class="d-flex justify-content-center">
                    <img src=".\assets\gImg\a2b2.png" class="viewLogo">
                </div>
                <div class="d-flex justify-content-between viewAddr">
                    <div class="p-0 " style="margin-left: 2%;">
                        <div class="gInputLable">From </div>
                        <div class="gInputLable">{{dcoutItems?.MyCompanyName}}</div>
                        <div class="gInputLable">{{dcoutItems?.MyAdd1}}{{dcoutItems?.MyAdd2}}</div>
                        <div class="gInputLable">{{dcoutItems?.Mycity}}-{{dcoutItems?.Mypin}}</div>
                        <div class="gInputLable">{{dcoutItems?.myStates}}</div>
                        <div class="gInputLable">Ph:{{dcoutItems?.Myphone}}</div>
                        <div class="gInputLable">Gst:{{dcoutItems?.MyGstNo}}</div>
                    </div>
                    <div class="p-0 "></div>
                    <div class="p-0 " style="text-align: left;margin-right: 2%;">
                        <div class="gInputLable">To </div>
                        <div class="gInputLable">{{dcoutItems?.DcmpName}} </div>
                        <div class="gInputLable">{{dcoutItems?.Dadd1}}{{dcoutItems?.Dadd2}}</div>
                        <div class="gInputLable">{{dcoutItems?.Dcity}}-{{dcoutItems?.Dpincode}}</div>
                        <div class="gInputLable">Ph: {{dcoutItems?.Dphone}}</div>
                        <div class="gInputLable">Gst:{{dcoutItems?.DGstNo}} </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center viewHead">
                    <b> GOODS TRANSFER NOTE</b>
                </div>
                <div class="d-flex justify-content-center viewsubhead"></div>
                <div class="d-flex mb-3 viewdate">
                    <div class="me-auto gInputLable ">GTN:{{dcoutItems?.TrnNo}} </div>
                    <div class="gInputLable ">Date: {{dcoutItems?.todaydate }}</div>
                    <div class="gInputLable ">Time: {{dcoutItems?.TrnTime }}</div>
                </div>
                <div class="d-flex gInputLable" *ngIf="dcoutItems?.Descript!==null && dcoutItems?.Descript !==''">
                    Description:
                    {{dcoutItems?.Descript }}</div>
                <div class="gTableSection">
                    <div class="gInnerTable" id="table_list">
                        <table style="" class="gNormalTable-sm table">
                            <thead>
                                <tr>
                                    <th>SNO</th>
                                    <th>Icode</th>
                                    <th>Particulars</th>
                                    <th style="text-align: right">QTY</th>
                                    <th>Uom</th>
                                    <th style="text-align: right">Tray</th>
                                    <th>TUom</th>
                                    <th style="text-align: right">Rate</th>
                                    <th style="text-align: right">Amount</th>
                                </tr>
                            </thead>
                            <tbody *ngFor="let items of printList">
                                <tr>
                                    <td colspan="9">{{items.subcat}}</td>
                                </tr>
                                <tr *ngFor="let list of items.result">
                                    <td>{{list.sno}}</td>
                                    <td>{{list.icode}}</td>
                                    <td>{{list.iname}}</td>
                                    <td style="text-align: right">{{list.qty}}</td>
                                    <td>{{list.uom}}</td>
                                    <td style="text-align: right">{{list.TrayCnt}}</td>
                                    <td>{{list.TrayUom}}</td>
                                    <td style="text-align: right">{{list.irate |currency:'INR'}}</td>
                                    <td style="text-align: right">{{list.qty*list.irate |currency:'INR'}}</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr class="gToggleFooter">
                                    <td>Driver: </td>
                                    <td>{{dcoutItems?.DriverName}}</td>
                                    <td style="text-align: right">Vehicle: </td>
                                    <td>{{dcoutItems?.VehicleNo}}</td>
                                    <td></td>
                                    <td style="text-align: right;border-bottom:2px dashed #DEE2E6;" class="catname">
                                        Grand
                                    </td>
                                    <td style="border-bottom:2px dashed #DEE2E6;" class="catname">Total</td>
                                    <td style="border-bottom:2px dashed #DEE2E6;" class="catname"></td>
                                    <td style="text-align: right;border-bottom:2px dashed #DEE2E6;" class="catname">
                                        {{prntTotal |currency:'INR'}}</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
                <div class="d-flex justify-content-start" class="viewUsr">
                    <div class="gInputLable ">{{dcoutItems?.Usr}}</div>
                </div>
                <div class="d-flex justify-content-between viewdc">
                    <div class="gInputLable ">Prepared By</div>
                    <div class="gInputLable ">Checked By</div>
                    <div class="gInputLable ">Passed By</div>
                    <div class="gInputLable ">Receivers Sign and Seal</div>
                </div>
                <hr>

                <div class="d-flex justify-content-center">
                    <button mat-button class="gSaveButton" id="print_gSaveButton"
                        (click)="viewPrint(dcoutItems?.todaydate, dcoutItems?.TrnNo)">Print</button>
                </div>

                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-link gSaveButton"
                        (click)="loadEwayform(dcoutItems?.TrnNo, dcoutItems?.todaydate)">E-wayform Report</button>
                </div>
                <!-- <button printSectionId="print-section" ngxPrint>print</button>  -->


                <!-- <button class="btn btn-primary " [hidden]="true" id="print_eway" [elementToPrint]="ewayform" ngPrint>Print</button> -->
                <button class="btn btn-primary " [hidden]="true" id="print_eway" [useExistingCss]="true"
                    printSectionId="ewayform" ngxPrint>Print</button>

                <!-- <button class="btn btn-primary " [hidden]="true" id="print_dcbtn" [elementToPrint]="printDC" ngPrint>Print</button> -->
                <button class="btn btn-primary " [hidden]="true" id="print_dcbtn" [useExistingCss]="true"
                    printSectionId="printDC" ngxPrint>Print</button>

            </div>

        </div>

        <div *ngIf="progressval == 'indeterminate'" class="loading">
            <mat-progress-spinner [mode]="progressval"> </mat-progress-spinner>
        </div>
    </div>

    <div class="modal fade " id="filterModal" tabindex="-1" role="dialog" data-bs-backdrop="static"
        data-bs-keyboard="false" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm ">
            <div class="modal-content">
                <div class="gcardContainer">
                    <div class="gTitle mt-2">Get Indent</div>
                    <div class="row mt-2">
                        <div class="col-2 form-group">
                            <label class="gInputLable">Branch </label>
                        </div>
                        <div class="col-10  form-group">
                            <input id="tbranch" [value]="myControl.value?.brname" type="text" class="gInnerInput-border"
                                readonly>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-2 form-group">
                            <label class="gInputLable">Date</label>
                        </div>
                        <div class="col-8  form-group">
                            <input id="tdate" type="date" [(ngModel)]="indentDate" class="gInnerInput-border">
                        </div>
                        <div class="col-2 form-group">
                            <button class="gIconButton" (click)="getDateForList()">>></button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-2 form-group">
                            <label class="gInputLable">List </label>
                        </div>
                        <div class="col-10  form-group">
                            <mat-select id="Section" class="gInnerInput-border" [(ngModel)]="selIndent"
                                name="selectType">
                                <mat-option *ngFor="let sec of selList" [value]="sec.Shift_Code" class="gSelectOption">
                                    {{sec.shift_name}}
                                </mat-option>
                            </mat-select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-2 form-group"></div>
                        <div class="col-10  form-group">
                            <div class="btn-group btn-group-sm gap-0 p-md-2" role="group" aria-label="Basic example">
                                <button type="button" class="gSaveButton" (click)="getItems()">
                                    <i class="fa  fa-arrow-right" aria-hidden="true"></i> Proceed
                                </button>
                                <button type="button" id="modalClosedbtn" class="gDeleteButton" data-bs-dismiss="modal"
                                    aria-label="Close">
                                    <i class="fa  fa-close" aria-hidden="true"></i> Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>