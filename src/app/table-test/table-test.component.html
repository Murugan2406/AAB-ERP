<div class="gWrapper">
    <app-header Titleheader="Testing Component"></app-header>
    <div class=" container gcardContainer  mt-5">
        <div class="gTitle">Dynamic Forms</div>
        <div class="card-body">
            <app-dynamic-form-builder (keydown)="keytab($event, fields)" [fields]="getFields()" (gSelectionChanged)="selectionChange($event)" (autoCompleteTrigger)="autCompleteTrigger($event)"></app-dynamic-form-builder>
        </div>
    </div>
    </div>


<!-- <app-accounting-information mode='edit' unique="Credit1" title="Acc Information (Murugsn - 2)" (submit)="creditForm1($event)"></app-accounting-information> -->


<!-- <app-accounting-information mode='view' [FormValue]="formValue" unique="Debit" title="Acc Information (Patch & Edit)" (submit)="debitForm($event)"></app-accounting-information>
        
    <app-accounting-information mode='view' [editable]="true" [FormValue]="formUssage" unique="Debit" title="Acc Information ( view )"></app-accounting-information> -->

<!-- <app-acc-info mode='edit' unique="Credit" title="Acc Information (Edit - 1)" (submit)="creditForm($event)"></app-acc-info> -->

<!-- <div class="gTableSection">
<div class="gInnerTable" [ngStyle]="{'max-height': 'calc(100vh - ' + maxHeight + 'px)'}"> -->
 <!-- <table class="table" [ngClass]="TableName ? TableName :'gNormalTable-md '" #table mat-table [dataSource]="DataSource"> 
                <ng-container *ngFor="let col of displayedColumns; let j = index" [matColumnDef]="col">

                    <th mat-header-cell *matHeaderCellDef [ngClass]="{'currency text-end': columnHeaders[col][1]}">{{columnHeaders[col][0]}}</th>

                    <td mat-footer-cell *matFooterCellDef [ngClass]="{'currency text-end': columnHeaders[col][1]}">
                        <ng-container [ngSwitch]="columnHeaders[col][1] ? columnHeaders[col][1] : columnHeaders[col][0]">
                            <span *ngSwitchCase="'Amount'" class="currency text-end">
                           {{Footer[j] | currency:"INR":"symbol"}}
                       </span>
                            <span *ngSwitchDefault> {{Footer[j]}}</span>
                        </ng-container>
                    </td>

                    <td mat-cell *matCellDef="let row; let i = index" [ngClass]="{'currency text-end': columnHeaders[col][1]}">
                        <ng-container [ngSwitch]="columnHeaders[col][1] ? columnHeaders[col][1] : columnHeaders[col][0]">
                            <span *ngSwitchCase="'S.No'">{{i+1}}</span>
                            <span *ngSwitchCase="'Edit'">
                            <button mat-icon-button class="gEditIcon"  (click)="editSelectedRow(row)" matTooltip="Edit">
                                <mat-icon>edit</mat-icon>
                            </button>
                        </span>
                            <span *ngSwitchCase="'View'">
                            <button mat-icon-button class="gHandIcon" (click)="viewSelectedRow(row)" matTooltip="View">
                                <i class="fa fa-hand-o-right "></i>
                            </button>
                        </span>
                            <span *ngSwitchCase="'Delete'">
                            <button mat-icon-button class="gDeleteIcon"  matTooltip="Delete" (click)="deleteSelectedRow(row)">
                               <mat-icon>delete</mat-icon>
                            </button>
                        </span>
                            <span *ngSwitchCase="'Amount'" class="currency text-end">
                            {{findColumnValue(row, col, columnParsingFn) |currency:"INR":"symbol"}}
                        </span>
                            <span *ngSwitchDefault> {{findColumnValue(row, col, columnParsingFn) }}</span>
                        </ng-container>
                    </td>

                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;let i = index"></tr>
                <tr mat-footer-row *matFooterRowDef="displayedColumns;sticky: true" class="toggleFooter" [ngClass]="{'HideFooter': DataSource.data.length === 0 || Footer.length === 0 || DataSource.filteredData.length === 0}"></tr>
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell text-center" *ngIf="!loading" [attr.colspan]="displayedColumns.length+1">
                        No records found.
                    </td>
                </tr>


            </table> -->
            <!-- <div class="SkeltonLoader text-center justify-content-center d-flex" *ngIf="loading">
                <mat-spinner></mat-spinner>
            </div> -->

<!-- <table mat-table [dataSource]="DataSource" class="gNormalTable-md table">
                <ng-container [matColumnDef]="column.name" *ngFor="let column of initColumns;">
                    <th mat-header-cell *matHeaderCellDef [style.width]="column.width" [class.name]="column.display"> {{column.display}}</th>
                    <td mat-cell *matCellDef="let element;let i = index" [style.width]="column.width" [class.name]="column.display" [ngSwitch]="column.name">
                        <span *ngSwitchCase="'S.No'">{{i+1}}</span>
                        <span *ngSwitchCase="'Edit'">
                        <button mat-icon-button class="gEditIcon"  (click)="editSelectedRow(row)" matTooltip="Edit">
                            <mat-icon>edit</mat-icon>
                        </button>
                    </span>
                        <span *ngSwitchCase="'View'">
                        <button mat-icon-button class="gHandIcon" (click)="viewSelectedRow(row)" matTooltip="View">
                            <i class="fa fa-hand-o-right "></i>
                        </button>
                    </span>
                        <span *ngSwitchCase="'Delete'">
                        <button mat-icon-button class="gDeleteIcon"  matTooltip="Delete" (click)="deleteSelectedRow(row)">
                           <mat-icon>delete</mat-icon>
                        </button>
                    </span>
                        <div *ngSwitchDefault>
                            <span *ngIf="column.Amount"> {{  100 |currency:"INR":"symbol"}}</span>
                            <span *ngIf="!column.Amount"> {{element[column.name] }}</span>
                        </div>
                    </td>
                    <td mat-footer-cell *matFooterCellDef>
                        <span *ngIf="column.Amount"> {{getTotal(column.name, DataSource.data) | currency:"INR":"symbol"}}</span>
                        <span *ngIf="!column.Amount"> {{column.Footer ?? '' }}</span>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell text-center" *ngIf="!loading" [attr.colspan]="displayedColumns.length+1">
                        No records found.
                    </td>
                </tr>
                <ng-container *ngIf="showFooter">
                    <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true" class="toggleFooter"></tr>
                </ng-container>
            </table> -->
<!-- <div class="SkeltonLoader text-center justify-content-center d-flex" *ngIf="loading">
                <mat-spinner></mat-spinner>
            </div> -->


<!-- </div> -->


<!-- <div class="gTableSection mx-3 mt-3">
        <div class="gTableActionheaders">
            <form role="search" class="search-form ml-3">
                <input type="search" name="Search" [ngClass]="{'gSearchText': filterValue === '', 'gSearchText1':filterValue!=='' }" #input autocomplete="off" [(ngModel)]="filterValue">
            </form>
        </div>

        <app-gtable [maxHeight]="110" [TableName]="'gNormalTable-sm'" [showFooter]="showFooter" [gConfiguration]="configArr" [gSearch]="filterValue" [loading]="loading" [gDataSource]="DataSource" (viewClicked)="viewRow($event)" (editClicked)="editrow($event)"
            (deleteClicked)="deleterow($event)">
        </app-gtable>
    </div> -->


<!-- </div> -->




<!-- <div>
    <form [formGroup]="form1">
        <mat-form-field appHighlight2>
            <mat-label>Month and Year</mat-label>
            <input matInput [matDatepicker]="dp1" formControlName="yearMonth">
            <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
            <mat-datepicker #dp1 startView="multi-year" (yearSelected)="chosenYearHandler($event)" (monthSelected)="chosenMonthHandler($event, dp1)">
            </mat-datepicker>
        </mat-form-field>

        <mat-form-field appHighlight>
            <mat-label>Date</mat-label>
            <input matInput [matDatepicker]="dp2" formControlName="date">
            <mat-datepicker-toggle matSuffix [for]="dp2"></mat-datepicker-toggle>
            <mat-datepicker #dp2 startView="multi-year"></mat-datepicker>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Default date</mat-label>
            <input matInput [matDatepicker]="dp3" formControlName="defaultDate">
            <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
            <mat-datepicker #dp3 startView="multi-year"></mat-datepicker>
        </mat-form-field>
    </form>
</div> -->

<!-- <div class="gTableSection">
    <div class="gTableActionheaders">
        <form role="search" class="search-form ml-3">
            <input type="search" name="Search" [ngClass]="{'gSearchText': filterValue === '', 'gSearchText1':filterValue!=='' }" #input autocomplete="off" [(ngModel)]="filterValue">
        </form>
    </div>
<app-gtable [maxHeight]="110" [TableName]="'gNormalTable-sm'" [gCurrency] ="CurrArr"
 [gColumnName]="configArr" [gSearch]="filterValue" [gLoading]="loading" [gDataSource]="DataSource" [gFooter]="footerRow" (viewClicked)="viewRow($event)"
  (editClicked)="editrow($event)" (deleteClicked)="deleterow($event)">
</app-gtable>

</div> -->